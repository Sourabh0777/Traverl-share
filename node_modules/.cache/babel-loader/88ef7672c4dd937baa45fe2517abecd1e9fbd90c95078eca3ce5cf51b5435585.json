{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nexport const useHttpClient = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, seterror] = useState();\n  const activeHttpRequest = useRef([]);\n  const sendRequest = async (url, method = \"GET\", body = null, header = {}) => {\n    setIsLoading(true);\n    debugger;\n    console.log(\"ðŸš€ ~ file: http-hook.js:8 ~ sendRequest ~ body:\", body);\n    const httpAbortCtrl = new AbortController();\n    activeHttpRequest.current.push(httpAbortCtrl);\n    try {\n      const response = await fetch(url, {\n        method,\n        header,\n        signal: httpAbortCtrl.signal\n      });\n      const responseData = await response.json();\n      activeHttpRequest.current = activeHttpRequest.current.filter(reqCtrl => reqCtrl !== httpAbortCtrl);\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n      setIsLoading(false);\n      return responseData;\n    } catch (error) {\n      seterror(error.message);\n      setIsLoading(false);\n      throw error;\n    }\n  };\n  const clearError = () => {\n    seterror(null);\n  };\n  useEffect(() => {\n    return () => {\n      activeHttpRequest.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, []);\n  return {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  };\n};\n_s(useHttpClient, \"LhwdGk7oXLlMFqHldhwvQkQxm3g=\");","map":{"version":3,"names":["useEffect","useRef","useState","useHttpClient","_s","isLoading","setIsLoading","error","seterror","activeHttpRequest","sendRequest","url","method","body","header","console","log","httpAbortCtrl","AbortController","current","push","response","fetch","signal","responseData","json","filter","reqCtrl","ok","Error","message","clearError","forEach","abortCtrl","abort"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, seterror] = useState();\n  const activeHttpRequest = useRef([]);\n  const sendRequest = async (url, method = \"GET\", body = null, header = {}) => {\n    setIsLoading(true);\n    debugger;\n    console.log(\"ðŸš€ ~ file: http-hook.js:8 ~ sendRequest ~ body:\", body)\n\n    const httpAbortCtrl = new AbortController();\n    activeHttpRequest.current.push(httpAbortCtrl);\n    try {\n      const response = await fetch(url, {\n        method,\n        \n        header,\n        signal: httpAbortCtrl.signal,\n      });\n      const responseData = await response.json();\n      activeHttpRequest.current = activeHttpRequest.current.filter(\n        (reqCtrl) => reqCtrl !== httpAbortCtrl\n      );\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n      setIsLoading(false);\n      return responseData;\n    } catch (error) {\n      seterror(error.message);\n      setIsLoading(false);\n      throw error;\n    }\n  };\n  const clearError = () => {\n    seterror(null);\n  };\n  useEffect(() => {\n    return () => {\n      activeHttpRequest.current.forEach((abortCtrl) => abortCtrl.abort());\n    };\n  }, []);\n  return { isLoading, error, sendRequest, clearError };\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,CAAC;EACpC,MAAMO,iBAAiB,GAAGR,MAAM,CAAC,EAAE,CAAC;EACpC,MAAMS,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,MAAM,GAAG,CAAC,CAAC,KAAK;IAC3ER,YAAY,CAAC,IAAI,CAAC;IAClB;IACAS,OAAO,CAACC,GAAG,CAAC,iDAAiD,EAAEH,IAAI,CAAC;IAEpE,MAAMI,aAAa,GAAG,IAAIC,eAAe,CAAC,CAAC;IAC3CT,iBAAiB,CAACU,OAAO,CAACC,IAAI,CAACH,aAAa,CAAC;IAC7C,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACX,GAAG,EAAE;QAChCC,MAAM;QAENE,MAAM;QACNS,MAAM,EAAEN,aAAa,CAACM;MACxB,CAAC,CAAC;MACF,MAAMC,YAAY,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1ChB,iBAAiB,CAACU,OAAO,GAAGV,iBAAiB,CAACU,OAAO,CAACO,MAAM,CACzDC,OAAO,IAAKA,OAAO,KAAKV,aAC3B,CAAC;MACD,IAAI,CAACI,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC;MACvC;MACAxB,YAAY,CAAC,KAAK,CAAC;MACnB,OAAOkB,YAAY;IACrB,CAAC,CAAC,OAAOjB,KAAK,EAAE;MACdC,QAAQ,CAACD,KAAK,CAACuB,OAAO,CAAC;MACvBxB,YAAY,CAAC,KAAK,CAAC;MACnB,MAAMC,KAAK;IACb;EACF,CAAC;EACD,MAAMwB,UAAU,GAAGA,CAAA,KAAM;IACvBvB,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EACDR,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXS,iBAAiB,CAACU,OAAO,CAACa,OAAO,CAAEC,SAAS,IAAKA,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC;IACrE,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAAE7B,SAAS;IAAEE,KAAK;IAAEG,WAAW;IAAEqB;EAAW,CAAC;AACtD,CAAC;AAAC3B,EAAA,CA1CWD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}