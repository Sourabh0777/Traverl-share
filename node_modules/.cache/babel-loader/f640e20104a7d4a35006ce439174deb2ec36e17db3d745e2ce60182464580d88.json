{"ast":null,"code":"import _slicedToArray from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";import\"./ImageUpload.css\";import\"./Input.css\";import Button from\"./Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImageUpload=function ImageUpload(props){var filePickerRed=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),previewUrl=_useState4[0],setPreviewUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];useEffect(function(){if(!file){return;}else{var fileReader=new FileReader();fileReader.onload=function(){setPreviewUrl(fileReader.result);};fileReader.readAsDataURL(file);}},[file]);var pickedHandler=function pickedHandler(event){var pickedFile;var fileIsValid=isValid;if(event.target.files&&event.target.files.length===1){pickedFile=event.target.files[0];setFile(pickedFile);setIsValid(true);fileIsValid=true;}else{fileIsValid=false;setIsValid(false);}props.onInput(props.id,pickedFile,fileIsValid);};var pickImageHandler=function pickImageHandler(){filePickerRed.current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"input\",{id:props.id,ref:filePickerRed,style:{display:\"none\"},type:\"file\",accept:\".jpg,.png,.jpeg\",onChange:pickedHandler}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload \".concat(props.center&&\"center\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload__preview\",children:[previewUrl&&/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"Preview\"}),!previewUrl&&/*#__PURE__*/_jsx(\"p\",{children:\"Please Select an image.\"})]}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:pickImageHandler,children:\"PICK IMAGE\"}),!isValid&&/*#__PURE__*/_jsx(\"p\",{children:props.errorText})]})]});};export default ImageUpload;","map":{"version":3,"names":["React","useRef","useState","useEffect","Button","jsx","_jsx","jsxs","_jsxs","ImageUpload","props","filePickerRed","_useState","_useState2","_slicedToArray","file","setFile","_useState3","_useState4","previewUrl","setPreviewUrl","_useState5","_useState6","isValid","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","pickedHandler","event","pickedFile","fileIsValid","target","files","length","onInput","id","pickImageHandler","current","click","className","children","ref","style","display","type","accept","onChange","concat","center","src","alt","onClick","errorText"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/shared/components/FormElements/ImageUpload.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport \"./ImageUpload.css\";\nimport \"./Input.css\";\n\nimport Button from \"./Button\";\n\nconst ImageUpload = (props) => {\n  const filePickerRed = useRef();\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(false);\n  useEffect(() => {\n    if (!file) {\n      return;\n    } else {\n      const fileReader = new FileReader();\n      fileReader.onload = () => {\n        setPreviewUrl(fileReader.result);\n      };\n      fileReader.readAsDataURL(file);\n    }\n  }, [file]);\n\n  const pickedHandler = (event) => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (event.target.files && event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      fileIsValid = false;\n\n      setIsValid(false);\n    }\n    props.onInput(props.id, pickedFile, fileIsValid);\n  };\n  const pickImageHandler = () => {\n    filePickerRed.current.click();\n  };\n  return (\n    <div className=\"form-control\">\n      <input\n        id={props.id}\n        ref={filePickerRed}\n        style={{ display: \"none\" }}\n        type=\"file\"\n        accept=\".jpg,.png,.jpeg\"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && \"center\"}`}>\n        <div className=\"image-upload__preview\">\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\n          {!previewUrl && <p>Please Select an image.</p>}\n        </div>\n        <Button type=\"button\" onClick={pickImageHandler}>\n          PICK IMAGE\n        </Button>\n\n        {!isValid && <p>{props.errorText}</p>}\n      </div>\n    </div>\n  );\n};\n\nexport default ImageUpload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}