{"ast":null,"code":"import React,{Suspense}from\"react\";import{BrowserRouter as Router,Route,Redirect,Switch}from\"react-router-dom\";import Users from\"./user/pages/Users\";// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\n// import UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Auth from\"./user/pages/Auth\";import MainNavigation from\"./shared/components/Navigation/MainNavigation\";import{AuthContext}from\"./shared/context/auth-context\";import{useAuth}from\"./shared/hooks/auth-hook\";import LoadingSpinner from\"./shared/components/UIElements/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPlace=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/NewPlace\");});var UserPlaces=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/UserPlaces\");});var UpdatePlace=/*#__PURE__*/React.lazy(function(){return import(\"./places/pages/UpdatePlace\");});// const Auth = React.lazy(() => import(\"./user/pages/Auth\"));\nvar App=function App(){var _useAuth=useAuth(),token=_useAuth.token,login=_useAuth.login,logout=_useAuth.logout,userId=_useAuth.userId;var routes;if(token){routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/new\",exact:true,children:/*#__PURE__*/_jsx(NewPlace,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/:placeId\",children:/*#__PURE__*/_jsx(UpdatePlace,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]});}else{routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/auth\"})]});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),children:routes})})]})});};export default App;","map":{"version":3,"names":["React","Suspense","BrowserRouter","Router","Route","Redirect","Switch","Users","Auth","MainNavigation","AuthContext","useAuth","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","NewPlace","lazy","UserPlaces","UpdatePlace","App","_useAuth","token","login","logout","userId","routes","children","path","exact","to","Provider","value","isLoggedIn","fallback","className"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/App.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\n\nimport Users from \"./user/pages/Users\";\n// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\n// import UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Auth from \"./user/pages/Auth\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\nimport LoadingSpinner from \"./shared/components/UIElements/LoadingSpinner\";\n\nconst NewPlace = React.lazy(() => import(\"./places/pages/NewPlace\"));\nconst UserPlaces = React.lazy(() => import(\"./places/pages/UserPlaces\"));\nconst UpdatePlace = React.lazy(() => import(\"./places/pages/UpdatePlace\"));\n// const Auth = React.lazy(() => import(\"./user/pages/Auth\"));\n\nconst App = () => {\n  const { token, login, logout, userId } = useAuth();\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:placeId\">\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          <Suspense\n            fallback={\n              <div className=\"center\">\n                <LoadingSpinner />\n              </div>\n            }\n          >\n            {routes}\n          </Suspense>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}