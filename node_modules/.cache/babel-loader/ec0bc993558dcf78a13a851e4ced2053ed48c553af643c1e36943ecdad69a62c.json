{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nexport const useHttpClient = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, seterror] = useState();\n  const activeHttpRequest = useRef([]);\n  const sendRequest = async (url, method = \"GET\", body = null, header = {}) => {\n    setIsLoading(true);\n    const httpAbortCtrl = new AbortController();\n    activeHttpRequest.current.push(httpAbortCtrl);\n    try {\n      const response = fetch(url, {\n        method,\n        header,\n        body,\n        signal: httpAbortCtrl.signal\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n      return responseData;\n      setIsLoading(false);\n    } catch (error) {\n      seterror(error.message);\n      setIsLoading(false);\n    }\n  };\n  const clearError = () => {\n    seterror(null);\n  };\n  useEffect(() => {\n    return () => {\n      activeHttpRequest.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, []);\n  return {\n    isLoading,\n    error,\n    sendRequest\n  };\n};\n_s(useHttpClient, \"LhwdGk7oXLlMFqHldhwvQkQxm3g=\");","map":{"version":3,"names":["useEffect","useRef","useState","useHttpClient","_s","isLoading","setIsLoading","error","seterror","activeHttpRequest","sendRequest","url","method","body","header","httpAbortCtrl","AbortController","current","push","response","fetch","signal","responseData","json","ok","Error","message","clearError","forEach","abortCtrl","abort"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, seterror] = useState();\n  const activeHttpRequest = useRef([]);\n  const sendRequest = async (url, method = \"GET\", body = null, header = {}) => {\n    setIsLoading(true);\n    const httpAbortCtrl = new AbortController();\n    activeHttpRequest.current.push(httpAbortCtrl)\n    try {\n      const response = fetch(url, {\n        method,\n        header,\n        body,\n        signal:httpAbortCtrl.signal\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n      return responseData;\n      setIsLoading(false);\n    } catch (error) {\n      seterror(error.message);\n      setIsLoading(false);\n    }\n  };\n  const clearError = () => {\n    seterror(null);\n  };\n  useEffect(()=>{\n    return ()=>{\n      activeHttpRequest.current.forEach((abortCtrl)=>(abortCtrl.abort()))\n    }\n  },[])\n  return { isLoading, error, sendRequest, };\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,CAAC;EACpC,MAAMO,iBAAiB,GAAGR,MAAM,CAAC,EAAE,CAAC;EACpC,MAAMS,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,MAAM,GAAG,CAAC,CAAC,KAAK;IAC3ER,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMS,aAAa,GAAG,IAAIC,eAAe,CAAC,CAAC;IAC3CP,iBAAiB,CAACQ,OAAO,CAACC,IAAI,CAACH,aAAa,CAAC;IAC7C,IAAI;MACF,MAAMI,QAAQ,GAAGC,KAAK,CAACT,GAAG,EAAE;QAC1BC,MAAM;QACNE,MAAM;QACND,IAAI;QACJQ,MAAM,EAACN,aAAa,CAACM;MACvB,CAAC,CAAC;MACF,MAAMC,YAAY,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1C,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACH,YAAY,CAACI,OAAO,CAAC;MACvC;MACA,OAAOJ,YAAY;MACnBhB,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,QAAQ,CAACD,KAAK,CAACmB,OAAO,CAAC;MACvBpB,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EACD,MAAMqB,UAAU,GAAGA,CAAA,KAAM;IACvBnB,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EACDR,SAAS,CAAC,MAAI;IACZ,OAAO,MAAI;MACTS,iBAAiB,CAACQ,OAAO,CAACW,OAAO,CAAEC,SAAS,IAAIA,SAAS,CAACC,KAAK,CAAC,CAAE,CAAC;IACrE,CAAC;EACH,CAAC,EAAC,EAAE,CAAC;EACL,OAAO;IAAEzB,SAAS;IAAEE,KAAK;IAAEG;EAAa,CAAC;AAC3C,CAAC;AAACN,EAAA,CAnCWD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}