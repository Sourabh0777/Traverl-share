{"ast":null,"code":"import _regeneratorRuntime from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import PlaceList from\"../components/PlaceList\";import{useHttpClient}from\"../../shared/hooks/http-hook\";import ErrorModal from\"../../shared/components/UIElements/ErrorModal\";import LoadingSpinner from\"../../shared/components/UIElements/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserPlaces=function UserPlaces(){var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(),_useState2=_slicedToArray(_useState,2),loadedPlaces=_useState2[0],setloadedPlaces=_useState2[1];var userId=useParams().userId;useEffect(function(){var fetchPlaces=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/places/user/\").concat(userId));case 3:responseData=_context.sent;setloadedPlaces(responseData.places);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchPlaces(){return _ref.apply(this,arguments);};}();fetchPlaces();},[sendRequest,userId]);var placeDeleterHandler=function placeDeleterHandler(deletedPlaceId){setloadedPlaces(function(prevPlaces){return prevPlaces.filter(function(place){return place.id!==deletedPlaceId;});});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[error&&/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{asOverlay:true}),!isLoading&&loadedPlaces&&/*#__PURE__*/_jsx(PlaceList,{items:loadedPlaces,onDeletePlace:placeDeleterHandler})]});};export default UserPlaces;","map":{"version":3,"names":["React","useEffect","useState","useParams","PlaceList","useHttpClient","ErrorModal","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","UserPlaces","_useHttpClient","isLoading","error","sendRequest","clearError","_useState","_useState2","_slicedToArray","loadedPlaces","setloadedPlaces","userId","fetchPlaces","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","responseData","wrap","_callee$","_context","prev","next","concat","process","env","REACT_APP_BACKEND_URL","sent","places","t0","stop","apply","arguments","placeDeleterHandler","deletedPlaceId","prevPlaces","filter","place","id","Fragment","children","onClear","asOverlay","items","onDeletePlace"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/places/pages/UserPlaces.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport PlaceList from \"../components/PlaceList\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nconst UserPlaces = () => {\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [loadedPlaces, setloadedPlaces] = useState();\n  const userId = useParams().userId;\n\n  useEffect(() => {\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`\n        );\n        setloadedPlaces(responseData.places);\n      } catch (error) {}\n    };\n    fetchPlaces();\n  }, [sendRequest, userId]);\n  const placeDeleterHandler = (deletedPlaceId) => {\n    setloadedPlaces((prevPlaces) =>\n      prevPlaces.filter((place) => place.id !== deletedPlaceId)\n    );\n  };\n  return (\n    <React.Fragment>\n      {error && <ErrorModal error={error} onClear={clearError} />}\n      {isLoading && <LoadingSpinner asOverlay />}\n      {!isLoading && loadedPlaces && (\n        <PlaceList items={loadedPlaces} onDeletePlace={placeDeleterHandler} />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UserPlaces;\n"],"mappings":"scAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAE5C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,aAAa,KAAQ,8BAA8B,CAC5D,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/E,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,cAAA,CAAsDR,aAAa,CAAC,CAAC,CAA7DS,SAAS,CAAAD,cAAA,CAATC,SAAS,CAAEC,KAAK,CAAAF,cAAA,CAALE,KAAK,CAAEC,WAAW,CAAAH,cAAA,CAAXG,WAAW,CAAEC,UAAU,CAAAJ,cAAA,CAAVI,UAAU,CACjD,IAAAC,SAAA,CAAwChB,QAAQ,CAAC,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,GAAM,CAAAI,MAAM,CAAGpB,SAAS,CAAC,CAAC,CAACoB,MAAM,CAEjCtB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAuB,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,YAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEW,CAAAnB,WAAW,IAAAoB,MAAA,CACjCC,OAAO,CAACC,GAAG,CAACC,qBAAqB,kBAAAH,MAAA,CAAgBb,MAAM,CAC5D,CAAC,QAFKO,YAAY,CAAAG,QAAA,CAAAO,IAAA,CAGlBlB,eAAe,CAACQ,YAAY,CAACW,MAAM,CAAC,CAACR,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,qCAAAA,QAAA,CAAAU,IAAA,MAAAd,OAAA,gBAExC,kBAPK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAOhB,CACDrB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACR,WAAW,CAAEO,MAAM,CAAC,CAAC,CACzB,GAAM,CAAAuB,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,cAAc,CAAK,CAC9CzB,eAAe,CAAC,SAAC0B,UAAU,QACzB,CAAAA,UAAU,CAACC,MAAM,CAAC,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACC,EAAE,GAAKJ,cAAc,GAAC,EAC3D,CAAC,CACH,CAAC,CACD,mBACEpC,KAAA,CAACX,KAAK,CAACoD,QAAQ,EAAAC,QAAA,EACZtC,KAAK,eAAIN,IAAA,CAACH,UAAU,EAACS,KAAK,CAAEA,KAAM,CAACuC,OAAO,CAAErC,UAAW,CAAE,CAAC,CAC1DH,SAAS,eAAIL,IAAA,CAACF,cAAc,EAACgD,SAAS,MAAE,CAAC,CACzC,CAACzC,SAAS,EAAIO,YAAY,eACzBZ,IAAA,CAACL,SAAS,EAACoD,KAAK,CAAEnC,YAAa,CAACoC,aAAa,CAAEX,mBAAoB,CAAE,CACtE,EACa,CAAC,CAErB,CAAC,CAED,cAAe,CAAAlC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}