{"ast":null,"code":"import _slicedToArray from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer,useEffect}from'react';import{validate}from'../../util/validators';import'./Input.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var inputReducer=function inputReducer(state,action){switch(action.type){case'CHANGE':return _objectSpread(_objectSpread({},state),{},{value:action.val,isValid:validate(action.val,action.validators)});case'TOUCH':{return _objectSpread(_objectSpread({},state),{},{isTouched:true});}default:return state;}};var Input=function Input(props){var _useReducer=useReducer(inputReducer,{value:props.initialValue||'',isTouched:false,isValid:props.initialValid||false}),_useReducer2=_slicedToArray(_useReducer,2),inputState=_useReducer2[0],dispatch=_useReducer2[1];var id=props.id,onInput=props.onInput;var value=inputState.value,isValid=inputState.isValid;useEffect(function(){onInput(id,value,isValid);},[id,value,isValid,onInput]);var changeHandler=function changeHandler(event){dispatch({type:'CHANGE',val:event.target.value,validators:props.validators});};var touchHandler=function touchHandler(){dispatch({type:'TOUCH'});};var element=props.element==='input'?/*#__PURE__*/_jsx(\"input\",{id:props.id,type:props.type,placeholder:props.placeholder,onChange:changeHandler,onBlur:touchHandler,value:inputState.value}):/*#__PURE__*/_jsx(\"textarea\",{id:props.id,rows:props.rows||3,onChange:changeHandler,onBlur:touchHandler,value:inputState.value});return/*#__PURE__*/_jsxs(\"div\",{className:\"form-control \".concat(!inputState.isValid&&inputState.isTouched&&'form-control--invalid'),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:props.id,children:props.label}),element,!inputState.isValid&&inputState.isTouched&&/*#__PURE__*/_jsx(\"p\",{children:props.errorText})]});};export default Input;","map":{"version":3,"names":["React","useReducer","useEffect","validate","jsx","_jsx","jsxs","_jsxs","inputReducer","state","action","type","_objectSpread","value","val","isValid","validators","isTouched","Input","props","_useReducer","initialValue","initialValid","_useReducer2","_slicedToArray","inputState","dispatch","id","onInput","changeHandler","event","target","touchHandler","element","placeholder","onChange","onBlur","rows","className","concat","children","htmlFor","label","errorText"],"sources":["/home/sourabh/Documents/0. Work/0. Project/MERN Stack/Client/src/shared/components/FormElements/Input.js"],"sourcesContent":["import React, { useReducer, useEffect } from 'react';\n\nimport { validate } from '../../util/validators';\nimport './Input.css';\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE':\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.validators)\n      };\n    case 'TOUCH': {\n      return {\n        ...state,\n        isTouched: true\n      }\n    }\n    default:\n      return state;\n  }\n};\n\nconst Input = props => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.initialValue || '',\n    isTouched: false,\n    isValid: props.initialValid || false\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid)\n  }, [id, value, isValid, onInput]);\n\n  const changeHandler = event => {\n    dispatch({\n      type: 'CHANGE',\n      val: event.target.value,\n      validators: props.validators\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: 'TOUCH'\n    });\n  };\n\n  const element =\n    props.element === 'input' ? (\n      <input\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    ) : (\n      <textarea\n        id={props.id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        onBlur={touchHandler}\n        value={inputState.value}\n      />\n    );\n\n  return (\n    <div\n      className={`form-control ${!inputState.isValid && inputState.isTouched &&\n        'form-control--invalid'}`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}