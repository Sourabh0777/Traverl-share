"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[99],{1099:function(e,t,r){r.r(t);var n=r(4165),a=r(5861),i=r(885),o=r(2791),c=r(2302),s=r(3999),l=r(291),u=r(5094),f=(r(8055),r(9508)),p=r(3108),d=r(9895),v=r(5434),h=r(542),y=r(7212),m=r(184);t.default=function(){var e=(0,o.useContext)(p.V),t=(0,h.k6)(),r=(0,f.x)(),x=r.isLoading,g=r.error,b=r.sendRequest,j=r.clearError,C=(0,u.c)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),w=(0,i.Z)(C,2),k=w[0],P=w[1],R=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),(i=new FormData).append("title",k.inputs.title.value),i.append("description",k.inputs.description.value),i.append("address",k.inputs.address.value),i.append("creator",e.userId),i.append("image",k.inputs.image.value),r.prev=8,r.next=12,b("".concat("https://travel-share-backend.onrender.com/api","/places"),"POST",i,{Authorization:"Bearer "+e.token});case 12:t.push("/"),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(8),console.log("NOt working");case 18:case"end":return r.stop()}}),r,null,[[8,15]])})));return function(e){return r.apply(this,arguments)}}();return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(v.Z,{error:g,onClear:j}),(0,m.jsxs)("form",{className:"place-form",onSubmit:R,children:[x&&(0,m.jsx)(d.Z,{asOverlay:!0}),(0,m.jsx)(c.Z,{id:"title",element:"input",type:"text",label:"Title",validators:[(0,l.hg)()],errorText:"Please enter a valid title.",onInput:P}),(0,m.jsx)(c.Z,{id:"description",element:"textarea",label:"Description",validators:[(0,l.CP)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:P}),(0,m.jsx)(c.Z,{id:"address",element:"input",label:"Address",validators:[(0,l.hg)()],errorText:"Please enter a valid address.",onInput:P}),(0,m.jsx)(y.Z,{id:"image",onInput:P,errorText:"Please Provide an image."}),(0,m.jsx)(s.Z,{type:"submit",disabled:!k.isValid,children:"ADD PLACE"})]})]})}},542:function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var a=r(4880),i=n(r(2791)),o=r(2610);r(2007),r(5501);var c=n(r(90));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}var p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return i.createElement(a.Router,{history:this.history,children:this.props.children})},t}(i.Component),d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=o.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return i.createElement(a.Router,{history:this.history,children:this.props.children})},t}(i.Component),v=function(e,t){return"function"==typeof e?e(t):e},h=function(e,t){return"string"==typeof e?o.createLocation(e,null,null,t):e},y=function(e){return e},m=i.forwardRef;void 0===m&&(m=y);var x=m((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,o=f(e,["innerRef","navigate","onClick"]),c=o.target,l=s({},o,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return l.ref=y!==m&&t||r,i.createElement("a",l)})),g=m((function(e,t){var r=e.component,n=void 0===r?x:r,l=e.replace,u=e.to,p=e.innerRef,d=f(e,["component","replace","to","innerRef"]);return i.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var r=e.history,a=h(v(u,e.location),e.location),f=a?r.createHref(a):"",x=s({},d,{href:f,navigate:function(){var t=v(u,e.location),n=o.createPath(e.location)===o.createPath(h(t));(l||n?r.replace:r.push)(t)}});return y!==m?x.ref=t||p:x.innerRef=p,i.createElement(n,x)}))})),b=function(e){return e},j=i.forwardRef;void 0===j&&(j=b);var C=j((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,o=e.activeClassName,l=void 0===o?"active":o,u=e.activeStyle,p=e.className,d=e.exact,y=e.isActive,m=e.location,x=e.sensitive,C=e.strict,w=e.style,k=e.to,P=e.innerRef,R=f(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var r=m||e.location,o=h(v(k,r),r),f=o.pathname,O=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Z=O?a.matchPath(r.pathname,{path:O,exact:d,sensitive:x,strict:C}):null,E=!!(y?y(Z,r):Z),A="function"==typeof p?p(E):p,_="function"==typeof w?w(E):w;E&&(A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(A,l),_=s({},_,u));var D=s({"aria-current":E&&n||null,className:A,style:_,to:o},R);return b!==j?D.ref=t||P:D.innerRef=P,i.createElement(g,D)}))}));Object.defineProperty(t,"k6",{enumerable:!0,get:function(){return a.useHistory}})},90:function(e){var t="Invariant failed";e.exports=function(e,r){if(!e)throw new Error(t)}},5501:function(e,t,r){r.r(t);t.default=function(e,t){}},8055:function(){}}]);
//# sourceMappingURL=99.7c17f3fe.chunk.js.map